{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44780398-b9dbe1b89370a8f5261d05d93';\n\nexport function getPicturesByQuery(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst cardContainer = document.querySelector('.card-container');\n\nexport function renderGallery(images) {\n  const cardContainer = document.querySelector('.card-container');\n  const markup = images\n    .map(\n      image => `\n    <div class=\"card\">\n      <div class=\"card-img-top\">\n        <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" >\n        </a>\n      </div>\n      <div class=\"card-body\">\n        <h2 class=\"card-title visually-hidden\">${image.tags}</h2>\n        <p class=\"card-text\">Likes: ${image.likes}</p>\n        <p class=\"card-text\">Views: ${image.views}</p>\n        <p class=\"card-text\">Comments: ${image.comments}</p>\n        <p class=\"card-text\">Downloads: ${image.downloads}</p>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n\n  cardContainer.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.card-img-top a', {\n    captions: true,\n    captionsData: 'alt',\n  });\n\n  lightbox.refresh();\n}\n\nexport function showNoResultsMessage() {\n  iziToast.info({\n    backgroundColor: 'red',\n    position: 'topRight',\n    title: 'Info',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n\nexport function showFetchErrorMessage() {\n  console.error('Error fetching images');\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there was an error fetching images. Please try again later.',\n  });\n}\n","import { getPicturesByQuery } from './js/pixabay-api.js';\nimport {\n  renderGallery,\n  showNoResultsMessage,\n  showFetchErrorMessage,\n} from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const queryValue = form.elements.query.value.trim().toLowerCase();\n\n  if (!queryValue) {\n    return;\n  }\n\n  loader.style.display = 'inline-block';\n\n  getPicturesByQuery(queryValue)\n    .then(data => {\n      loader.style.display = 'none';\n\n      if (data.hits.length === 0) {\n        showNoResultsMessage();\n      } else {\n        renderGallery(data.hits);\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      loader.style.display = 'none';\n      showFetchErrorMessage();\n    })\n    .finally(() => form.reset());\n}\n"],"names":["API_KEY","getPicturesByQuery","query","url","res","renderGallery","images","cardContainer","markup","image","SimpleLightbox","showNoResultsMessage","iziToast","showFetchErrorMessage","searchForm","loader","handleSearch","event","form","queryValue","data","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCAET,SAASC,EAAmBC,EAAO,CACxC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBACvDE,CACD,CAAA,2DAED,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCRsB,SAAS,cAAc,iBAAiB,EAEvD,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAASF,EACZ,IACCG,GAAS;AAAA;AAAA;AAAA,mBAGIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,iDAIXA,EAAM,IAAI;AAAA,sCACrBA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,yCACRA,EAAM,QAAQ;AAAA,0CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIpD,EACA,KAAK,EAAE,EAEVF,EAAc,UAAYC,EAET,IAAIE,EAAe,kBAAmB,CACrD,SAAU,GACV,aAAc,KAClB,CAAG,EAEQ,QAAO,CAClB,CAEO,SAASC,GAAuB,CACrCC,EAAS,KAAK,CACZ,gBAAiB,MACjB,SAAU,WACV,MAAO,OACP,QACE,0EACN,CAAG,CACH,CAEO,SAASC,GAAwB,CACtC,QAAQ,MAAM,uBAAuB,EACrCD,EAAS,MAAM,CACb,MAAO,QACP,QACE,oEACN,CAAG,CACH,CClDA,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBD,EAAW,iBAAiB,SAAUE,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAE/CC,IAILJ,EAAO,MAAM,QAAU,eAEvBd,EAAmBkB,CAAU,EAC1B,KAAKC,GAAQ,CACZL,EAAO,MAAM,QAAU,OAEnBK,EAAK,KAAK,SAAW,EACvBT,IAEAN,EAAce,EAAK,IAAI,CAE/B,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,EAC7BN,EAAO,MAAM,QAAU,OACvBF,GACN,CAAK,EACA,QAAQ,IAAMK,EAAK,MAAK,CAAE,EAC/B"}